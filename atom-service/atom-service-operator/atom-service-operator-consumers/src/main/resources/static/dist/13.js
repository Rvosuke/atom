(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{411:function(t,e,n){"use strict";n.r(e);var i=n(513),o=n(461);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var r=n(0),u=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);e.default=u.exports},415:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(6)),o=a(n(20));function a(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){var t=this;return{searchFilter:{},tableInfo:{data:[],rowHandle:{fixed:"right",width:"90px",custom:[{text:"删除",type:"text",size:"mini",emit:"cutOff"}]},columns:[],pagination:{currentPage:1,pageSize:10,total:0,background:!0,layout:"total,-> , prev, pager, next"},events:{modify:function(e){t.$refs.editSimplePopup.handleCreate(JSON.parse((0,o.default)(e.row)))},otterEmit:function(e){t.otterEmitFn(e.row)},cutOff:function(e){t.$confirm("此操作将删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.HTTPCommon.updateFn({id:e.row.id,deleteFlag:1}).then((function(e){t.$message.success("操作成功"),t.getList()})).catch((function(t){}))})).catch((function(){}))},view:function(e){t.lookView(e)}}},editPopupInfo:{drawer:{attrs:{title:"新增",direction:"rtl"},events:{beforeClose:function(t){console.log("关闭弹框")}}},form:{width:"120px",inline:!0,items:[]},events:{confirm:function(e){console.log("修改点击确定按钮==>",e),t.modifyOrganization(e)},cancel:function(){t.$refs.editSimplePopup.handleClose()}}}}},created:function(){this.initParams()},mounted:function(){this.getList()},methods:{initParams:function(){var t=localStorage.getItem("organization");if(this.searchFilter={parentId:1},t){var e=JSON.parse(t);this.searchFilter.spaceId=e.id}},lookView:function(t){console.log(t)},paginationCurrentChange:function(t){this.tableInfo.pagination.currentPage=t,this.getList()},getList:function(){var t=this,e=(0,i.default)({},this.tableInfo.pagination,this.searchFilter);this.HTTPCommon.getList(e).then((function(e){t.tableInfo.pagination.total=e.total,t.tableInfo.pagination.currentPage=e.currentPage,t.tableInfo.pagination.pageSize=e.pageSize,t.tableInfo.data=e.data||[]}))},modifyOrganization:function(t){var e=this;this.HTTPCommon.insertFn(t).then((function(t){e.getList()})).catch((function(t){}))},addPm:function(){this.$refs.editSimplePopup.handleCreate()},tableKeyToHump:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){return t.key=t.key.replace(/\_(\w)/g,(function(t,e){return e.toUpperCase()})),t.minWidth=t.minWidth||"100",t.align=t.align||"center",t.isNoEdit||(t.label=t.label||t.title,t.props=t.props||t.key,t.type=t.type||"input"),(0,i.default)({},t)}))}}}},426:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(30),a=(i=o)&&i.__esModule?i:{default:i};e.default={getList:function(t){return(0,a.default)({url:"/lamp/atom/service/operator/serviceInfo/queryServiceInfos",method:"post",data:t})},updateFn:function(t){return(0,a.default)({url:"/lamp/atom/service/operator/serviceInfo/updateServiceInfo",method:"post",data:t})},insertFn:function(t){return(0,a.default)({url:"/lamp/atom/service/operator/serviceInfo/insertServiceInfo",method:"post",data:t})}}},461:function(t,e,n){"use strict";n.r(e);var i=n(462),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},462:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(6)),o=n(152),a=s(n(415)),r=s(n(192)),u=s(n(426));function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"operatorIndex",components:{SimplePopup:r.default},mixins:[a.default],data:function(){return{HTTPCommon:u.default}},created:function(){var t=[{title:"服务id",key:"id",isNoEdit:!0},{title:"空间ID",key:"space_id",isNoEdit:!0},{title:"服务名",key:"si_name"},{title:"服务类型",key:"si_type"},{title:"服务运行模式",key:"si_runtime_pattern",type:"select",width:120,attrs:{placeholder:"请选择服务运行模式"},options:[{label:"COMMAND",value:"COMMAND"},{label:"KUBERNETES",value:"KUBERNETES"}]},{title:"创建几个节点",key:"si_node_num"},{title:"镜像名",key:"si_image_name"},{title:"服务cpu配置量",key:"si_cpu",width:160},{title:"服务gpu配置量",key:"si_gpu",width:160},{title:"服务内存配置量，单位是M",key:"si_memory",width:200},{title:"服务现存配置量",key:"si_display_memory",width:200},{title:"服务标签",key:"si_label"},{title:"创建时间",key:"createTime",width:160,isNoEdit:!0,formatter:function(t){return(0,o.parseTime)(t.createTime)||"-"}},{title:"更新时间",key:"updateTime",width:160,isNoEdit:!0,formatter:function(t){return(0,o.parseTime)(t.createTime)||"-"}}];this.tableInfo.columns=this.tableKeyToHump(t),this.tableInfo.rowHandle=null;var e=t.filter((function(t){return!t.isNoEdit}));this.editPopupInfo.form.items=e},methods:{modifyOrganization:function(t){var e=this;this.HTTPCommon.insertFn((0,i.default)({},t,{spaceId:this.searchFilter.spaceId})).then((function(t){e.$refs.editSimplePopup.handleClose(),e.$message.success("新增成功"),e.getList()})).catch((function(t){}))}}}},513:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-20 p-12 bg-white"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addPm}},[t._v("新增")]),t._v(" "),n("d2-crud",t._g(t._b({on:{"pagination-current-change":t.paginationCurrentChange}},"d2-crud",t.tableInfo,!1),t.tableInfo.events)),t._v(" "),t.editPopupInfo?n("simple-popup",t._g({ref:"editSimplePopup",attrs:{settings:t.editPopupInfo}},t.editPopupInfo.events)):t._e()],1)},o=[]}}]);